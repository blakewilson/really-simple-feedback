"use strict";require("whatwg-fetch");var ReallySimpleFeedback=function(){var e=document.createElement("div");e.id="rsf-open-pane",e.innerHTML='\n    <svg width="121px" height="121px" viewBox="0 0 121 121" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="Satisfied">\n                <circle id="Face" fill="#FFC239" cx="60.5" cy="60.5" r="60.5"></circle>\n                <g id="Eyes" transform="translate(37.000000, 39.000000)" fill="#000000">\n                    <circle id="Right-Eye" cx="41" cy="7" r="7"></circle>\n                    <circle id="Left-Eye" cx="7" cy="7" r="7"></circle>\n                </g>\n                <path d="M35,88 C41.017505,84 49.145553,82 59.384144,82 C69.6227351,82 78.4946871,84 86,88" id="Mouth" stroke="#000000" stroke-width="3" stroke-linecap="square" transform="translate(60.500000, 85.000000) rotate(-180.000000) translate(-60.500000, -85.000000) "></path>\n            </g>\n        </g>\n    </svg>\n    <span>'.concat(rsf_localized.feedback_button_text,"</span>\n"),document.body.appendChild(e);var t=document.createElement("div");t.id="rsf-widget",document.body.appendChild(t);var n=document.createElement("div");n.classList.add("rsf-thank-you"),n.innerHTML='\n    <svg width="165px" height="165px" viewBox="0 0 165 165" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Thank-You-icon">\n            <circle id="Oval" fill="#AFECAF" cx="82.5" cy="82.5" r="82.5"></circle>\n            <polyline id="Line" stroke="#296329" stroke-width="13" stroke-linecap="square" points="43 90.6543138 73.0424861 108 122.536284 58"></polyline>\n        </g>\n    </g>\n    </svg>\n    <span>'.concat(rsf_localized.thank_you_message,"</span>\n"),document.body.appendChild(n),n.style.bottom="-".concat(n.offsetHeight,"px");var i=document.createElement("header");i.classList.add("rsf-header"),t.appendChild(i);var s=document.createElement("span");s.classList.add("rsf-widget-title"),s.textContent=rsf_localized.widget_header_text,i.appendChild(s);var a=document.createElement("span");a.innerHTML='\n    <svg id="rsf-close" width="16" height="16" viewBox="0 0 14 14"><path style="fill: #fff;" d="M12 3.41L10.59 2 7 5.59 3.41 2 2 3.41 5.59 7 2 10.59 3.41 12 7 8.41 10.59 12 12 10.59 8.41 7z"></path></svg>\n',i.appendChild(a),a.addEventListener("click",function(e){k(),setTimeout(function(){b()},250)});var o=document.createElement("div");o.classList.add("rsf-error"),t.appendChild(o);var l=document.createElement("form");l.id="rsf-form",l.name="rsf-form",t.appendChild(l);var r=document.createElement("p");r.classList.add("rsf-satisfaction-message"),r.textContent=rsf_localized.satisfaction_message,l.appendChild(r);var c=document.createElement("div");c.classList.add("rsf-satisfaction"),l.appendChild(c);var d=document.createElement("label");d.classList.add("rsf-unsatisfied-option"),d.style.marginRight="1rem",c.appendChild(d);var m=document.createElement("input");m.type="radio",m.id="rsf-unsatisfied-option",m.name="satisfactionRating",m.value="unsatisfied",d.appendChild(m);var f=document.createElement("span");f.classList.add("rsf-svg-holder"),f.innerHTML='\n    <svg width="121px" height="121px" viewBox="0 0 121 121" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="Unsatisfied">\n                <circle id="Face" fill="#FDABA5" cx="60.5" cy="60.5" r="60.5"></circle>\n                <g id="Eyes" transform="translate(37.000000, 39.000000)" fill="#9B332B">\n                    <circle id="Right-Eye" cx="41" cy="7" r="7"></circle>\n                    <circle id="Left-Eye" cx="7" cy="7" r="7"></circle>\n                </g>\n                <path d="M35,88 C41.017505,84 49.145553,82 59.384144,82 C69.6227351,82 78.4946871,84 86,88" id="Mouth" stroke="#9B332B" stroke-width="3" stroke-linecap="square"></path>\n            </g>\n        </g>\n    </svg>\n',d.append(f);var p=document.createElement("label");p.classList.add("rsf-satisfied-option"),c.appendChild(p);var u=document.createElement("input");u.type="radio",u.id="rsf-satisfied-option",u.name="satisfactionRating",u.value="satisfied",p.appendChild(u);var h=document.createElement("span");h.classList.add("rsf-svg-holder"),h.innerHTML='\n    <svg width="121px" height="121px" viewBox="0 0 121 121" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="Satisfied">\n                <circle id="Face" fill="#AFECAF" cx="60.5" cy="60.5" r="60.5"></circle>\n                <g id="Eyes" transform="translate(37.000000, 39.000000)" fill="#296329">\n                    <circle id="Right-Eye" cx="41" cy="7" r="7"></circle>\n                    <circle id="Left-Eye" cx="7" cy="7" r="7"></circle>\n                </g>\n                <path d="M35,88 C41.017505,84 49.145553,82 59.384144,82 C69.6227351,82 78.4946871,84 86,88" id="Mouth" stroke="#296329" stroke-width="3" stroke-linecap="square" transform="translate(60.500000, 85.000000) rotate(-180.000000) translate(-60.500000, -85.000000) "></path>\n            </g>\n        </g>\n    </svg>\n',p.appendChild(h);var g=document.createElement("div");g.classList.add("rsf-comments"),l.appendChild(g);var y=document.createElement("textarea");y.id="rsf-comment-input",y.name="rsf-comments",g.appendChild(y);var v=document.createElement("div");v.classList.add("rsf-error"),g.appendChild(v);var x=document.createElement("div");x.classList.add("rsf-send"),l.appendChild(x);var w=document.createElement("button");function k(){t.style.transition="bottom 0.25s ease-in-out",t.style.bottom="-".concat(t.offsetHeight,"px"),setTimeout(function(){t.style.visibility="hidden"},250)}function b(){e.style.visibility="visible",e.style.transition="bottom 0.25s ease-in-out",e.style.bottom="1rem"}w.classList.add("rsf-submit-button"),w.innerHTML="\n<span>".concat(rsf_localized.submit_text,'</span>\n<svg width="1rem" height="1rem" style="margin-left: 0.5rem" viewBox="0 0 35 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="Path" fill="#FFFFFF" fill-rule="nonzero" points="0 35.25 35 17.75 0 0.25 0 13.8611111 25 17.75 0 21.6388889"></polygon>\n    </g>\n</svg>\n'),x.appendChild(w),e.addEventListener("click",function(n){e.style.transition="bottom 0.25s ease-in-out",e.style.bottom="-".concat(e.offsetHeight,"px"),setTimeout(function(){e.style.visibility="hidden"},250),setTimeout(function(){t.style.visibility="visible",t.style.transition="bottom 0.25s ease-in-out",t.style.bottom="1rem"},250)}),document.addEventListener("click",function(e){if("satisfactionRating"!==e.target.name)return null;"unsatisfied"===e.target.value&&(y.placeholder=rsf_localized.unsatisfied_placeholder_text),"satisfied"===e.target.value&&(y.placeholder=rsf_localized.satisfied_placeholder_text),t.style.maxHeight="".concat(t.scrollHeight,"px"),g.style.opacity=0,g.style.display="block",g.style.transition="opacity 0.25s ease-in-out",t.style.transition="max-height 0.25s ease-in-out",t.style.maxHeight="".concat(t.scrollHeight,"px"),g.style.opacity=1,setTimeout(function(){t.style.maxHeight="none"},250),t.style.maxHeight="".concat(t.scrollHeight,"px"),x.style.opacity=0,x.style.display="block",x.style.transition="opacity 0.25s ease-in-out",t.style.transition="max-height 0.25s ease-in-out",t.style.maxHeight="".concat(t.scrollHeight,"px"),x.style.opacity=1,setTimeout(function(){t.style.maxHeight="none"},250)}),document.addEventListener("input",function(e){if("rsf-comment-input"!==e.target.id)return null;e.target.style.borderColor="#000",v.textContent=""}),document.addEventListener("submit",function(e){if("rsf-form"!==e.target.id)return null;e.preventDefault(),o.textContent="",v.textContent="";var i,s=document.getElementById("rsf-comment-input");m.checked&&(i="unsatisfied"),u.checked&&(i="satisfied");var a={rating:i,comment:s.value,userAgent:navigator.userAgent};window.fetch("".concat(rsf_localized.site_url,"/wp-json/really-simple-feedback/v1/feedback"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(e.code)switch(e.code){case"no_comment":y.style.borderColor="#F44336",v.textContent=rsf_localized.comment_section_error_message;break;default:o.textContent=rsf_localized.general_error_message}else k(),setTimeout(function(){n.style.visibility="visible",n.style.transition="bottom 0.25s ease-in-out",n.style.bottom="1rem",g.style.display="none",x.style.display="none",g.style.opacity=0,x.style.opacity=0,m.checked=!1,u.checked=!1,t.style.maxHeight="none",y.value="",setTimeout(function(){n.style.transition="bottom 0.25s ease-in-out",n.style.bottom="-".concat(n.offsetHeight,"px"),setTimeout(function(){n.style.visibility="hidden"},250),setTimeout(function(){b()},250)},2500)},250)}).catch(function(e){console.log(e),o.textContent=rsf_localized.general_error_message})}),t.style.bottom="-".concat(t.offsetHeight,"px")};ReallySimpleFeedback();